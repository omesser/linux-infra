---
kind: PrismaPandaDevDeployment
metadata:
  name: panda-sw-staging
  timezone: timezone


machines:
  panda-sw-staging:
    system_type: 'dev'
    
    # Connectivity to the bare-metal (proxmox host)
    ansible_host: "10.50.0.141"
    ansible_user: "root"
    ansible_password: "Pa$$w0rd!"


    proxmox_host_ip: "10.50.0.141"
    proxmox_user: "root@pam"
    proxmox_user_password: "Pa$$w0rd!"
    proxmox_node: "vm1"

    template_vmid: 9000
    
    net_bridge:
      name: "vmbrStaging"
      netmask: "255.255.255.0"
      cidr: "40.0.0.1/24"

    # vms configuration #
    vms:
      yuval-test-staging:
        name: "yuval-test-staging"
        type: workernode
        username: "prisma"
        password: "prisma"
        ssh_key_file: "/root/.ssh/id_rsa.pub"
        sockets: 2
        cores: 20
        memory: 4096
        gpu: true

        accessable_ip: "40.0.0.2" # The IP used to connect to the VM, later it will be taken from the ipconfig part
        ipconfig:
          ipconfig0: "ip=40.0.0.2/24"
          ipconfig1: "ip=dhcp"

        net:
          net0: "virtio,bridge=vmbrStaging"
          net1: "virtio,bridge=vmbr0"

        mounts:
          src: "/mnt/data-to-share"
          dest: "/mnt/idan-is-loser"
          tag: "idan-share"

